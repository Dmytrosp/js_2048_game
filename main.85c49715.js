parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";var e=document.querySelector(".button"),t=document.querySelectorAll(".field-cell"),n=document.querySelector(".message-start"),r=document.querySelector(".message-win"),o=document.querySelector(".message-lose"),a=document.querySelector(".game-score"),l=!1,c=0,f=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function i(){for(var e=0;e<f.length;e++)for(var n=0;n<f[e].length;n++){var r=4*e+n;t[r].className="field-cell",t[r].textContent="",0!==f[e][n]?(t[r].classList.add("field-cell--".concat(f[e][n])),t[r].textContent="".concat(f[e][n])):(t[r].className="field-cell",t[r].textContent="")}}function s(){for(var e=0;e<f.length;e++)for(var n=0;n<f[e].length;n++){var r=4*e+n;t[r].className="field-cell",t[r].textContent="",f[e][n]=0}}function d(){for(var e=[],t=0;t<f.length;t++)for(var n=0;n<f[t].length;n++)0===f[t][n]&&e.push([t,n]);var r=e[Math.floor(Math.random()*e.length)],o=u();f[r[0]][r[1]]=o}function h(){for(var e=f.length,t=f[0].length,n=0;n<2;){var r=Math.floor(Math.random()*e),o=Math.floor(Math.random()*t),a=u();0===f[r][o]&&(f[r][o]=a,n++)}}function u(){return Math.random()<.9?2:4}function g(e){switch(e){case"Up":m();break;case"Down":v();break;case"Right":y();break;case"Left":C()}}function v(){for(var e=0;e<f.length;e++)for(var t=f[0].length-1;t>=0;t--)0!==f[t][e]&&t!==f[0].length-1&&0===f[t+1][e]?(f[t+1][e]=f[t][e],f[t][e]=0,t+=2):t<f[0].length-1&&f[t][e]===f[t+1][e]&&0!==f[t][e]&&(f[t+1][e]*=2,f[t][e]=0,c+=f[t+1][e])}function m(){for(var e=0;e<f.length;e++)for(var t=0;t<f[0].length;t++)0!==f[t][e]&&0!==t&&0===f[t-1][e]?(f[t-1][e]=f[t][e],f[t][e]=0,t-=2):t>0&&f[t][e]===f[t-1][e]&&0!==f[t][e]&&(f[t-1][e]*=2,f[t][e]=0,c+=f[t-1][e])}function C(){for(var e=0;e<f.length;e++)for(var t=0;t<f[0].length;t++)0!==f[e][t]&&0!==t&&0===f[e][t-1]?(f[e][t-1]=f[e][t],f[e][t]=0,t-=2):t>0&&f[e][t]===f[e][t-1]&&0!==f[e][t]&&(f[e][t-1]*=2,f[e][t]=0,c+=f[e][t-1])}function y(){for(var e=0;e<f[0].length;e++)for(var t=f.length-1;t>=0;t--)0!==f[e][t]&&t!==f.length-1&&0===f[e][t+1]?(f[e][t+1]=f[e][t],f[e][t]=0,t+=2):f[e][t]===f[e][t+1]&&0!==f[e][t]&&(f[e][t+1]*=2,f[e][t]=0,c+=f[e][t+1])}function k(){for(var e=0;e<f.length;e++)for(var t=0;t<f[e].length;t++)if(2048===f[e][t]){r.classList.remove("hidden"),l=!0;break}}function L(){for(var e=0;e<f[0].length;e++)for(var t=0;t<f.length;t++)if(e<3&&f[e][t]===f[e+1][t]||t<3&&f[e][t]===f[e][t+1])return void(l=!1);l=!0,o.classList.remove("hidden")}function x(){for(var e=0,t=0;t<f.length;t++)for(var n=0;n<f.length;n++)0!==f[t][n]&&(e+=1);return e}e.addEventListener("click",function(){"Start"===e.textContent?(e.textContent="Restart",n.classList.add("hidden"),e.classList.add("restart"),h(),i(f)):(o.classList.add("hidden"),a.textContent=0,c=0,s(),h(),i(f))}),document.addEventListener("keydown",function(e){if(e.preventDefault(),k(),16===x()&&L(),!l){if(38===e.keyCode){g("Up")}if(40===e.keyCode){g("Down")}if(39===e.keyCode){g("Right")}if(37===e.keyCode){g("Left")}a.textContent="".concat(c),d(),i()}});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.85c49715.js.map